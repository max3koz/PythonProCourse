# Generated by Django 5.2.7 on 2025-11-15 09:24

import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):
	initial = True
	
	dependencies = [
	]
	
	operations = [
		migrations.CreateModel(
			name='Author',
			fields=[
				('id', models.BigAutoField(auto_created=True, primary_key=True,
				                           serialize=False, verbose_name='ID')),
				('name', models.CharField(db_index=True, max_length=100)),
			],
		),
		migrations.CreateModel(
			name='Book',
			fields=[
				('id', models.BigAutoField(auto_created=True, primary_key=True,
				                           serialize=False, verbose_name='ID')),
				('title', models.CharField(db_index=True, max_length=200)),
				('published_year', models.IntegerField(blank=True, null=True)),
				('author',
				 models.ForeignKey(on_delete=django.db.models.deletion.CASCADE,
				                   related_name='books', to='library.author')),
			],
		),
		migrations.CreateModel(
			name='Review',
			fields=[
				('id', models.BigAutoField(auto_created=True, primary_key=True,
				                           serialize=False, verbose_name='ID')),
				('rating', models.IntegerField()),
				('comment', models.TextField(blank=True)),
				('book',
				 models.ForeignKey(on_delete=django.db.models.deletion.CASCADE,
				                   related_name='reviews', to='library.book')),
			],
		),
		migrations.AddIndex(
			model_name='book',
			index=models.Index(fields=['title'],
			                   name='library_boo_title_c38ef2_idx'),
		),
		migrations.AddIndex(
			model_name='book',
			index=models.Index(fields=['author'],
			                   name='library_boo_author__e33dc7_idx'),
		),
		migrations.AddIndex(
			model_name='review',
			index=models.Index(fields=['rating'],
			                   name='library_rev_rating_1cb5d7_idx'),
		),
		migrations.AddIndex(
			model_name='review',
			index=models.Index(fields=['book'],
			                   name='library_rev_book_id_5fdd06_idx'),
		),
	]
